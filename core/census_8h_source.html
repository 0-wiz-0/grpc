<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GRPC Core: include/grpc/census.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GRPC Core
   &#160;<span id="projectnumber">0.13.1-pre1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_46bdc5f5041a35984eb5db24b2392107.html">include</a></li><li class="navelem"><a class="el" href="dir_a0198a417c8cbac4868821a6e2669c2e.html">grpc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">census.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="census_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright 2015-2016, Google Inc.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions are</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * met:</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *     * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * copyright notice, this list of conditions and the following disclaimer</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * in the documentation and/or other materials provided with the</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * distribution.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *     * Neither the name of Google Inc. nor the names of its</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * contributors may be used to endorse or promote products derived from</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * this software without specific prior written permission.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* RPC-internal Census API&#39;s. These are designed to be generic enough that</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * they can (ultimately) be used in many different RPC systems (with differing</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * implementations). */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#ifndef CENSUS_CENSUS_H</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CENSUS_CENSUS_H</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="grpc_8h.html">grpc/grpc.h</a>&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/* Identify census features that can be enabled via census_initialize(). */</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8">   48</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8">census_features</a> {</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8aac1986834f37851b8d899c4a08c8e3ab">   49</a></span>&#160;  <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8aac1986834f37851b8d899c4a08c8e3ab">CENSUS_FEATURE_NONE</a> = 0,    <span class="comment">/* Do not enable census. */</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8ab0722326e730113d5be97f643c3e6718">   50</a></span>&#160;  <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8ab0722326e730113d5be97f643c3e6718">CENSUS_FEATURE_TRACING</a> = 1, <span class="comment">/* Enable census tracing. */</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8a84c772b868e53ee3487c7bfc8e8b2f1a">   51</a></span>&#160;  <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8a84c772b868e53ee3487c7bfc8e8b2f1a">CENSUS_FEATURE_STATS</a> = 2,   <span class="comment">/* Enable Census stats collection. */</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8a4808bff624e2377596b86a6f58ab04b5">   52</a></span>&#160;  <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8a4808bff624e2377596b86a6f58ab04b5">CENSUS_FEATURE_CPU</a> = 4,     <span class="comment">/* Enable Census CPU usage collection. */</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8aba96a94fb7af8cf1144ca14edc0b1f0c">   53</a></span>&#160;  <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8aba96a94fb7af8cf1144ca14edc0b1f0c">CENSUS_FEATURE_ALL</a> =</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8ab0722326e730113d5be97f643c3e6718">CENSUS_FEATURE_TRACING</a> | <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8a84c772b868e53ee3487c7bfc8e8b2f1a">CENSUS_FEATURE_STATS</a> | <a class="code" href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8a4808bff624e2377596b86a6f58ab04b5">CENSUS_FEATURE_CPU</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;};</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">int</span> <a class="code" href="census_8h.html#a850c1ca105245a514e76519d5edaad2c">census_initialize</a>(<span class="keywordtype">int</span> features);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#ad21073b22ae5c30cad63a29340f54048">census_shutdown</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">int</span> <a class="code" href="census_8h.html#ae22d3c8dfe3bfac5e831b0135ff7a536">census_supported</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">int</span> <a class="code" href="census_8h.html#a6964222b3c20833883d7d05ab6b6e67e">census_enabled</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="census_8h.html#a27fc8788690179599713226f1f054736">   81</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/* A tag is a key:value pair. The key is a non-empty, printable (UTF-8</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">   encoded), nil-terminated string. The value is a binary string, that may be</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">   printable. There are limits on the sizes of both keys and values (see</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">   CENSUS_MAX_TAG_KB_LEN definition below), and the number of tags that can be</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">   propagated (CENSUS_MAX_PROPAGATED_TAGS). Users should also remember that</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">   some systems may have limits on, e.g., the number of bytes that can be</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">   transmitted as metadata, and that larger tags means more memory consumed</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">   and time in processing. */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structcensus__tag.html">   91</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structcensus__tag.html#a13c8315749ec9752d8bb1354a131558b">   92</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcensus__tag.html#a13c8315749ec9752d8bb1354a131558b">key</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structcensus__tag.html#a8f4ef3177380ad53f7a8abe1441e8805">   93</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcensus__tag.html#a8f4ef3177380ad53f7a8abe1441e8805">value</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structcensus__tag.html#a08b4ca9af92e0e559c6dd01ae8c28e0b">   94</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="structcensus__tag.html#a08b4ca9af92e0e559c6dd01ae8c28e0b">value_len</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structcensus__tag.html#a5632d4c8316fb17bbb3af5cb9b0dd4f5">   95</a></span>&#160;  uint8_t <a class="code" href="structcensus__tag.html#a5632d4c8316fb17bbb3af5cb9b0dd4f5">flags</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;} <a class="code" href="structcensus__tag.html">census_tag</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">/* Maximum length of a tag&#39;s key or value. */</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="census_8h.html#ac3fa459cd0c1621953c46b07bac2faa7">   99</a></span>&#160;<span class="preprocessor">#define CENSUS_MAX_TAG_KV_LEN 255</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor"></span><span class="comment">/* Maximum number of propagatable tags. */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="census_8h.html#a487ca94a4b349f1a7d3d28a21b154f4e">  101</a></span>&#160;<span class="preprocessor">#define CENSUS_MAX_PROPAGATED_TAGS 255</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/* Tag flags. */</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="census_8h.html#ac116a5843bd29f43a949c56ef5ae619a">  104</a></span>&#160;<span class="preprocessor">#define CENSUS_TAG_PROPAGATE 1 </span><span class="comment">/* Tag should be propagated over RPC */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="census_8h.html#ab3c3a66a8c2f392d4a14e75dc44e8931">  105</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CENSUS_TAG_STATS 2     </span><span class="comment">/* Tag will be used for statistics aggregation */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="census_8h.html#a718a086bf7a282a0b5ae1d2fd8c6666c">  106</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CENSUS_TAG_BINARY 4    </span><span class="comment">/* Tag value is not printable */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="census_8h.html#a070dd8c57a1a31ced0c7ead5a5910df7">  107</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CENSUS_TAG_RESERVED 8  </span><span class="comment">/* Reserved for internal use. */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor"></span><span class="comment">/* Flag values 8,16,32,64,128 are reserved for future/internal use. Clients</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">   should not use or rely on their values. */</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="census_8h.html#afa3a818c132d55bb1f0afb7442d8f848">  111</a></span>&#160;<span class="preprocessor">#define CENSUS_TAG_IS_PROPAGATED(flags) (flags &amp; CENSUS_TAG_PROPAGATE)</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="census_8h.html#aaca94b54b685c481236dfb913fef8b4c">  112</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CENSUS_TAG_IS_STATS(flags) (flags &amp; CENSUS_TAG_STATS)</span></div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="census_8h.html#a3c63d07ee49c74c1a987949156163f47">  113</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CENSUS_TAG_IS_BINARY(flags) (flags &amp; CENSUS_TAG_BINARY)</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/* An instance of this structure is kept by every context, and records the</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">   basic information associated with the creation of that context. */</span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structcensus__context__status.html">  117</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structcensus__context__status.html#a829f2aeabdea60d613e4fed1be3d6041">  118</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__status.html#a829f2aeabdea60d613e4fed1be3d6041">n_propagated_tags</a>;        <span class="comment">/* number of propagated printable tags */</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structcensus__context__status.html#a999c7d337ff4b180da169a604ee1be8b">  119</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__status.html#a999c7d337ff4b180da169a604ee1be8b">n_propagated_binary_tags</a>; <span class="comment">/* number of propagated binary tags */</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structcensus__context__status.html#a94be33aaa92817f62516bb21fb106e00">  120</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__status.html#a94be33aaa92817f62516bb21fb106e00">n_local_tags</a>;             <span class="comment">/* number of non-propagated (local) tags */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structcensus__context__status.html#a8e7c9b97dceabe04d9d7b54ca1259d39">  121</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__status.html#a8e7c9b97dceabe04d9d7b54ca1259d39">n_deleted_tags</a>;           <span class="comment">/* number of tags that were deleted */</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structcensus__context__status.html#ad44570570f170577c7fec0381adea3d5">  122</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__status.html#ad44570570f170577c7fec0381adea3d5">n_added_tags</a>;             <span class="comment">/* number of tags that were added */</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structcensus__context__status.html#a4f2fbaa6bfdadc681a74e6fd947f6e7e">  123</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__status.html#a4f2fbaa6bfdadc681a74e6fd947f6e7e">n_modified_tags</a>;          <span class="comment">/* number of tags that were modified */</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structcensus__context__status.html#a00dd3c6cfa7338d539b290f34b29523b">  124</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__status.html#a00dd3c6cfa7338d539b290f34b29523b">n_invalid_tags</a>;           <span class="comment">/* number of tags with bad keys or values (e.g.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">                                   longer than CENSUS_MAX_TAG_KV_LEN) */</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structcensus__context__status.html#ab567b892584772dcb4a13ae7c8b95316">  126</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__status.html#ab567b892584772dcb4a13ae7c8b95316">n_ignored_tags</a>;           <span class="comment">/* number of tags ignored because of</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">                                   CENSUS_MAX_PROPAGATED_TAGS limit. */</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;} <a class="code" href="structcensus__context__status.html">census_context_status</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/* Create a new context, adding and removing tags from an existing context.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">   This will copy all tags from the &#39;tags&#39; input, so it is recommended</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">   to add as many tags in a single operation as is practical for the client.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">   @param base Base context to build upon. Can be NULL.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">   @param tags A set of tags to be added/changed/deleted. Tags with keys that</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">   are in &#39;tags&#39;, but not &#39;base&#39;, are added to the tag set. Keys that are in</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">   both &#39;tags&#39; and &#39;base&#39; will have their value/flags modified. Tags with keys</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">   in both, but with NULL or zero-length values, will be deleted from the tag</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">   set. Tags with invalid (too long or short) keys or values will be ignored.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">   If adding a tag will result in more than CENSUS_MAX_PROPAGATED_TAGS in either</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">   binary or non-binary tags, they will be ignored, as will deletions of</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">   tags that don&#39;t exist.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">   @param ntags number of tags in &#39;tags&#39;</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">   @param status If not NULL, will return a pointer to a census_context_status</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">   structure containing information about the new context and status of the</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">   tags used in its creation.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">   @return A new, valid census_context.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *<a class="code" href="census_8h.html#a63289de665c241f31e9c32666310ec3a">census_context_create</a>(</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *base, <span class="keyword">const</span> <a class="code" href="structcensus__tag.html">census_tag</a> *tags, <span class="keywordtype">int</span> ntags,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="structcensus__context__status.html">census_context_status</a> <span class="keyword">const</span> **status);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">/* Destroy a context. Once this function has been called, the context cannot</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">   be reused. */</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#a6e29f72138aac3eac75ef13a7bd25560">census_context_destroy</a>(<a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">/* Get a pointer to the original status from the context creation. */</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keyword">const</span> <a class="code" href="structcensus__context__status.html">census_context_status</a> *<a class="code" href="census_8h.html#a12077dda197a10bf2198203eac1a348a">census_context_get_status</a>(</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">/* Structure used for iterating over the tegs in a context. API clients should</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">   not use or reference internal fields - neither their contents or</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">   presence/absence are guaranteed. */</span></div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structcensus__context__iterator.html">  163</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structcensus__context__iterator.html#a729daa66104d74f11aa6c5b25c27f563">  164</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *<a class="code" href="structcensus__context__iterator.html#a729daa66104d74f11aa6c5b25c27f563">context</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="structcensus__context__iterator.html#ab591e487d86084f6e73c79c82bc3b1bc">  165</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__iterator.html#ab591e487d86084f6e73c79c82bc3b1bc">base</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="structcensus__context__iterator.html#a1d3bd63edb21b2c2692610f9440b0111">  166</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structcensus__context__iterator.html#a1d3bd63edb21b2c2692610f9440b0111">index</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="structcensus__context__iterator.html#ad565429de91ad3f42c6e7091c2532804">  167</a></span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="structcensus__context__iterator.html#ad565429de91ad3f42c6e7091c2532804">kvm</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;} <a class="code" href="structcensus__context__iterator.html">census_context_iterator</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">/* Initialize a census_tag_iterator. Must be called before first use. */</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#ac19f91fc3442073217752ce4abf5dfc4">census_context_initialize_iterator</a>(</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context, <a class="code" href="structcensus__context__iterator.html">census_context_iterator</a> *iterator);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/* Get the contents of the &quot;next&quot; tag in the context. If there are no more</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">   tags, returns 0 (and &#39;tag&#39; contents will be unchanged), otherwise returns 1.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">int</span> <a class="code" href="census_8h.html#a756d86b68b73a9ad9dacdfdaeb2a865c">census_context_next_tag</a>(<a class="code" href="structcensus__context__iterator.html">census_context_iterator</a> *iterator,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                      <a class="code" href="structcensus__tag.html">census_tag</a> *tag);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">/* Get a context tag by key. Returns 0 if the key is not present. */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">int</span> <a class="code" href="census_8h.html#a610c654980b00da26ed7b2becca79f94">census_context_get_tag</a>(<span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                     <span class="keyword">const</span> <span class="keywordtype">char</span> *key, <a class="code" href="structcensus__tag.html">census_tag</a> *tag);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/* Tag set encode/decode functionality. These functionas are intended</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">   for use by RPC systems only, for purposes of transmitting/receiving contexts.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/* Encode a context into a buffer. The propagated tags are encoded into the</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">   buffer in two regions: one for printable tags, and one for binary tags.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">   @param context context to be encoded</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">   @param buffer pointer to buffer. This address will be used to encode the</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">                 printable tags.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">   @param buf_size number of available bytes in buffer.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">   @param print_buf_size Will be set to the number of bytes consumed by</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">                         printable tags.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">   @param bin_buf_size Will be set to the number of bytes used to encode the</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">                       binary tags.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">   @return A pointer to the binary tag&#39;s encoded, or NULL if the buffer was</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">           insufficiently large to hold the encoded tags. Thus, if successful,</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">           printable tags are encoded into</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">           [buffer, buffer + *print_buf_size) and binary tags into</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">           [returned-ptr, returned-ptr + *bin_buf_size) (and the returned</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">           pointer should be buffer + *print_buf_size) */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">char</span> *<a class="code" href="census_8h.html#a339fd5da5a7b080a9f98c9a0ed22ad28">census_context_encode</a>(<span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                      <span class="keywordtype">char</span> *buffer, <span class="keywordtype">size_t</span> buf_size,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                      <span class="keywordtype">size_t</span> *print_buf_size,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                      <span class="keywordtype">size_t</span> *bin_buf_size);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/* Decode context buffers encoded with census_context_encode(). Returns NULL</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">   if there is an error in parsing either buffer. */</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *<a class="code" href="census_8h.html#add1983e11e6bfbb6e3eafd085c8f2e5d">census_context_decode</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *buffer, <span class="keywordtype">size_t</span> size,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                <span class="keyword">const</span> <span class="keywordtype">char</span> *bin_buffer,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                                <span class="keywordtype">size_t</span> bin_size);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">/* Distributed traces can have a number of options. */</span></div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="census_8h.html#ad4ff7b1db813ee5318871121bb4281cc">  216</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="census_8h.html#ad4ff7b1db813ee5318871121bb4281cc">census_trace_mask_values</a> {</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="census_8h.html#ad4ff7b1db813ee5318871121bb4281cca21afa23a531e5d54e70d44ec3c18cfb3">  217</a></span>&#160;  <a class="code" href="census_8h.html#ad4ff7b1db813ee5318871121bb4281cca21afa23a531e5d54e70d44ec3c18cfb3">CENSUS_TRACE_MASK_NONE</a> = 0,      <span class="comment">/* Default, empty flags */</span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="census_8h.html#ad4ff7b1db813ee5318871121bb4281ccaadcf28b76de06181051506c96996255a">  218</a></span>&#160;  <a class="code" href="census_8h.html#ad4ff7b1db813ee5318871121bb4281ccaadcf28b76de06181051506c96996255a">CENSUS_TRACE_MASK_IS_SAMPLED</a> = 1 <span class="comment">/* RPC tracing enabled for this context. */</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;};</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">int</span> <a class="code" href="census_8h.html#a2a2dfc973cd259d93b0901c8b32e8f34">census_trace_mask</a>(<span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#a2088bf00a48a7a9b0a6e659fa5161ef9">census_set_trace_mask</a>(<span class="keywordtype">int</span> trace_mask);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">/* The concept of &quot;operation&quot; is a fundamental concept for Census. In an RPC</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">   system, and operation typcially represents a single RPC, or a significant</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">   sub-part thereof (e.g. a single logical &quot;read&quot; RPC to a distributed storage</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">   system might do several other actions in parallel, from looking up metadata</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">   indices to making requests of other services - each of these could be a</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">   sub-operation with the larger RPC operation). Census uses operations for the</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">   following:</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">   CPU accounting: If enabled, census will measure the thread CPU time</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">   consumed between operation start and end times.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">   Active operations: Census will maintain information on all currently</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">   active operations.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">   Distributed tracing: Each operation serves as a logical trace span.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">   Stats collection: Stats are broken down by operation (e.g. latency</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">   breakdown for each unique RPC path).</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">   The following functions serve to delineate the start and stop points for</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">   each logical operation. */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="structcensus__timestamp.html">  254</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">/* Use gpr_timespec for default implementation. High performance</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">   * implementations should use a cycle-counter based timestamp. */</span></div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="structcensus__timestamp.html#a36ed36ffcf81f720bbdade460f957004">  257</a></span>&#160;  <a class="code" href="structgpr__timespec.html">gpr_timespec</a> <a class="code" href="structcensus__timestamp.html#a36ed36ffcf81f720bbdade460f957004">ts</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;} <a class="code" href="structcensus__timestamp.html">census_timestamp</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <a class="code" href="structcensus__timestamp.html">census_timestamp</a> <a class="code" href="census_8h.html#a57255eb87c6ade8ee6eb8856d3ecfc11">census_start_rpc_op_timestamp</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="structcensus__rpc__name__info.html">  287</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="structcensus__rpc__name__info.html#a97dbb444634b47e6eee7d4229c2c6e17">  288</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *(*get_rpc_service_name)(int64_t id);</div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="structcensus__rpc__name__info.html#a2c11e57832465057e8f803accfc6287a">  289</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *(*get_rpc_method_name)(int64_t id);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;} <a class="code" href="structcensus__rpc__name__info.html">census_rpc_name_info</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *<a class="code" href="census_8h.html#abd6d5aa344819ec9d73c79b9fe6778dc">census_start_client_rpc_op</a>(</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context, int64_t rpc_name_id,</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcensus__rpc__name__info.html">census_rpc_name_info</a> *rpc_name_info, <span class="keyword">const</span> <span class="keywordtype">char</span> *peer, <span class="keywordtype">int</span> trace_mask,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcensus__timestamp.html">census_timestamp</a> *start_time);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#ab20a8e42995181004f5fbc9a87e339d3">census_set_rpc_client_peer</a>(<a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                          <span class="keyword">const</span> <span class="keywordtype">char</span> *peer);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *<a class="code" href="census_8h.html#a18e3c1cddf38f66a5e8cbf79d7084369">census_start_server_rpc_op</a>(</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *buffer, int64_t rpc_name_id,</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcensus__rpc__name__info.html">census_rpc_name_info</a> *rpc_name_info, <span class="keyword">const</span> <span class="keywordtype">char</span> *peer, <span class="keywordtype">int</span> trace_mask,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="structcensus__timestamp.html">census_timestamp</a> *start_time);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *<a class="code" href="census_8h.html#ae1536ef86b12a6904cb1de3a47f0ca1b">census_start_op</a>(<a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                          <span class="keyword">const</span> <span class="keywordtype">char</span> *family, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                          <span class="keywordtype">int</span> trace_mask);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#aee31ac081d81e46746025b06071f1f0e">census_end_op</a>(<a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context, <span class="keywordtype">int</span> status);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="census_8h.html#acb35403ed23ba2615457fabaa0b430e7">  400</a></span>&#160;<span class="preprocessor">#define CENSUS_TRACE_RECORD_START_OP ((uint32_t)0)</span></div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="census_8h.html#a003fb5bda98c95408a21d3a47571a1e9">  401</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CENSUS_TRACE_RECORD_END_OP ((uint32_t)1)</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#aacf722bf9259354d1ab7a81a6c2fd666">census_trace_print</a>(<a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context, uint32_t type,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *buffer, <span class="keywordtype">size_t</span> n);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="structcensus__trace__record.html">  414</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="structcensus__trace__record.html#ac7f74956d51898681b8e35a8031ac9fb">  415</a></span>&#160;  <a class="code" href="structcensus__timestamp.html">census_timestamp</a> <a class="code" href="structcensus__trace__record.html#ac7f74956d51898681b8e35a8031ac9fb">timestamp</a>; <span class="comment">/* Time of record creation */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="structcensus__trace__record.html#a69511d4d1ae8297580789786feb564d4">  416</a></span>&#160;  uint64_t <a class="code" href="structcensus__trace__record.html#a69511d4d1ae8297580789786feb564d4">trace_id</a>;          <span class="comment">/* Trace ID associated with record */</span></div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="structcensus__trace__record.html#a7a9ffdb2e91c34802e5102a1632b2e58">  417</a></span>&#160;  uint64_t <a class="code" href="structcensus__trace__record.html#a7a9ffdb2e91c34802e5102a1632b2e58">op_id</a>;             <span class="comment">/* Operation ID associated with record */</span></div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="structcensus__trace__record.html#a76b2b8a9206a720e02c32c13a534ba78">  418</a></span>&#160;  uint32_t <a class="code" href="structcensus__trace__record.html#a76b2b8a9206a720e02c32c13a534ba78">type</a>;              <span class="comment">/* Type (as used in census_trace_print() */</span></div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="structcensus__trace__record.html#a4ba324fb39273bf3c0c0f15852d9d130">  419</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcensus__trace__record.html#a4ba324fb39273bf3c0c0f15852d9d130">buffer</a>;         <span class="comment">/* Buffer (from census_trace_print() */</span></div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="structcensus__trace__record.html#abc4f9330e28d906f90346d7fd5769d53">  420</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="structcensus__trace__record.html#abc4f9330e28d906f90346d7fd5769d53">buf_size</a>;            <span class="comment">/* Number of bytes inside buffer */</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;} <a class="code" href="structcensus__trace__record.html">census_trace_record</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">int</span> <a class="code" href="census_8h.html#ad78c02761da0d8a7a70bf4add263f91f">census_trace_scan_start</a>(<span class="keywordtype">int</span> consume);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">int</span> <a class="code" href="census_8h.html#aeb5d22e80a87eabe9880f08c56e95bf1">census_get_trace_record</a>(<a class="code" href="structcensus__trace__record.html">census_trace_record</a> *trace_record);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#a22eb7df4c9b232d8962592d738007ecb">census_trace_scan_end</a>();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">/* Core stats collection API&#39;s. The following concepts are used:</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">   * Aggregation: A collection of values. Census supports the following</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">       aggregation types:</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">         Sum - a single summation type. Typically used for keeping (e.g.)</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">           counts of events.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">         Distribution - statistical distribution information, used for</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">           recording average, standard deviation etc.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">         Histogram - a histogram of measurements falling in defined bucket</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">           boundaries.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">         Window - a count of events that happen in reolling time window.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">     New aggregation types can be added by the user, if desired (see</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">     census_register_aggregation()).</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">   * Metric: Each measurement is for a single metric. Examples include RPC</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">     latency, CPU seconds consumed, and bytes transmitted.</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">   * View: A view is a combination of a metric, a tag set (in which the tag</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">     values are regular expressions) and a set of aggregations. When a</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">     measurement for a metric matches the view tags, it is recorded (for each</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">     unique set of tags) against each aggregation. Each metric can have an</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">     arbitrary number of views by which it will be broken down.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">/* A single value to be recorded comprises two parts: an ID for the particular</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> * metric and the value to be recorded against it. */</span></div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="structcensus__value.html">  471</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="structcensus__value.html#a87d8b653cb6248301e1ad699bf2cfc54">  472</a></span>&#160;  uint32_t <a class="code" href="structcensus__value.html#a87d8b653cb6248301e1ad699bf2cfc54">metric_id</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="structcensus__value.html#a5bff69239476e80fc5c54f3302fffa34">  473</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="structcensus__value.html#a5bff69239476e80fc5c54f3302fffa34">value</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;} <a class="code" href="structcensus__value.html">census_value</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">/* Record new usage values against the given context. */</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#a26acfcba7f6b3f2b86d0a7fdc45e32ba">census_record_values</a>(<a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *context,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                    <a class="code" href="structcensus__value.html">census_value</a> *values, <span class="keywordtype">size_t</span> nvalues);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">  481</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">census_aggregation_ops</a> <a class="code" href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">census_aggregation_ops</a>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">/* Predefined aggregation types, for use with census_view_create(). */</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="keyword">extern</span> <a class="code" href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">census_aggregation_ops</a> <a class="code" href="census_8h.html#a35d6ca1b9557bb6e12d79e137a5df944">census_agg_sum</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="keyword">extern</span> <a class="code" href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">census_aggregation_ops</a> <a class="code" href="census_8h.html#a37ac21fb6ba91fc1f80523cf3d55dbfa">census_agg_distribution</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="keyword">extern</span> <a class="code" href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">census_aggregation_ops</a> <a class="code" href="census_8h.html#a22bfed34d03c9f9f061f7aaf5fc5378c">census_agg_histogram</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="keyword">extern</span> <a class="code" href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">census_aggregation_ops</a> <a class="code" href="census_8h.html#a4b8a7f096dcd85c93f823cddb2bf960e">census_agg_window</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="structcensus__aggregation.html">  491</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="structcensus__aggregation.html#afce3bda99fdeb6c77dde6368e1c45ffa">  492</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">census_aggregation_ops</a> *<a class="code" href="structcensus__aggregation.html#afce3bda99fdeb6c77dde6368e1c45ffa">ops</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="structcensus__aggregation.html#a5b2ce3ab21a88058ea67c944d6a37426">  493</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="structcensus__aggregation.html#a5b2ce3ab21a88058ea67c944d6a37426">create_arg</a>; <span class="comment">/* Aaggregation initialization argument. */</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;} <a class="code" href="structcensus__aggregation.html">census_aggregation</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">  497</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> <a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">/* TODO(aveitch): consider if context is the right argument type to pass in</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">   tags. */</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> *<a class="code" href="census_8h.html#a8ac9c2a6718e812bf8f42a2016738408">census_view_create</a>(</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    uint32_t metric_id, <span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *tags,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcensus__aggregation.html">census_aggregation</a> *aggregations, <span class="keywordtype">size_t</span> naggregations);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#a156998a6bc44f6c336d427d006044759">census_view_delete</a>(<a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> *view);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">size_t</span> <a class="code" href="census_8h.html#af1387180cddfb7a2df512a21aaaae42b">census_view_metric</a>(<span class="keyword">const</span> <a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> *view);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">size_t</span> <a class="code" href="census_8h.html#ac20c30b46592a991ba098c43fc7e2d2f">census_view_naggregations</a>(<span class="keyword">const</span> <a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> *view);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *<a class="code" href="census_8h.html#a50f2d9352480dbd7756d31b38d78745c">census_view_tags</a>(<span class="keyword">const</span> <a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> *view);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keyword">const</span> <a class="code" href="structcensus__aggregation.html">census_aggregation</a> *<a class="code" href="census_8h.html#a1a7c785d959d32b0c7f45fbf8b9210af">census_view_aggregrations</a>(</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keyword">const</span> <a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> *view);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="structcensus__view__aggregation__data.html">  532</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="structcensus__view__aggregation__data.html#a6972f32742ac590473852310ccf0c2bc">  533</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a> *<a class="code" href="structcensus__view__aggregation__data.html#a6972f32742ac590473852310ccf0c2bc">tags</a>; <span class="comment">/* Tags for this set of aggregations. */</span></div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="structcensus__view__aggregation__data.html#a9147e9464bd963144649d773fc62398d">  534</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">void</span> **<a class="code" href="structcensus__view__aggregation__data.html#a9147e9464bd963144649d773fc62398d">data</a>; <span class="comment">/* One data set for every aggregation in the view. */</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;} <a class="code" href="structcensus__view__aggregation__data.html">census_view_aggregation_data</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="structcensus__view__data.html">  538</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="structcensus__view__data.html#a90105c30b6a4b32ced7663532de301f4">  539</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="structcensus__view__data.html#a90105c30b6a4b32ced7663532de301f4">n_tag_sets</a>; <span class="comment">/* Number of unique tag sets that matched view. */</span></div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="structcensus__view__data.html#ad3ad052b9c598a32650bb00690f478b8">  540</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structcensus__view__aggregation__data.html">census_view_aggregation_data</a> *<a class="code" href="structcensus__view__data.html#ad3ad052b9c598a32650bb00690f478b8">data</a>; <span class="comment">/* n_tag_sets entries */</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;} <a class="code" href="structcensus__view__data.html">census_view_data</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keyword">const</span> <a class="code" href="structcensus__view__data.html">census_view_data</a> *<a class="code" href="census_8h.html#a1d2f0b30386e8772c09694dfc74d686c">census_view_get_data</a>(<span class="keyword">const</span> <a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> *view);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<a class="code" href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a> <span class="keywordtype">void</span> <a class="code" href="census_8h.html#a8aaadf898da63f9438e3262822234c6d">census_view_reset</a>(<a class="code" href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a> *view);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CENSUS_CENSUS_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="structcensus__context__status_html_a4f2fbaa6bfdadc681a74e6fd947f6e7e"><div class="ttname"><a href="structcensus__context__status.html#a4f2fbaa6bfdadc681a74e6fd947f6e7e">census_context_status::n_modified_tags</a></div><div class="ttdeci">int n_modified_tags</div><div class="ttdef"><b>Definition:</b> census.h:123</div></div>
<div class="ttc" id="census_8h_html_a22bfed34d03c9f9f061f7aaf5fc5378c"><div class="ttname"><a href="census_8h.html#a22bfed34d03c9f9f061f7aaf5fc5378c">census_agg_histogram</a></div><div class="ttdeci">census_aggregation_ops census_agg_histogram</div></div>
<div class="ttc" id="census_8h_html_a6964222b3c20833883d7d05ab6b6e67e"><div class="ttname"><a href="census_8h.html#a6964222b3c20833883d7d05ab6b6e67e">census_enabled</a></div><div class="ttdeci">CENSUSAPI int census_enabled(void)</div><div class="ttdoc">Return the census features currently enabled. </div></div>
<div class="ttc" id="census_8h_html_a156998a6bc44f6c336d427d006044759"><div class="ttname"><a href="census_8h.html#a156998a6bc44f6c336d427d006044759">census_view_delete</a></div><div class="ttdeci">CENSUSAPI void census_view_delete(census_view *view)</div><div class="ttdoc">Destroy a previously created view. </div></div>
<div class="ttc" id="structcensus__context__status_html_a829f2aeabdea60d613e4fed1be3d6041"><div class="ttname"><a href="structcensus__context__status.html#a829f2aeabdea60d613e4fed1be3d6041">census_context_status::n_propagated_tags</a></div><div class="ttdeci">int n_propagated_tags</div><div class="ttdef"><b>Definition:</b> census.h:118</div></div>
<div class="ttc" id="census_8h_html_a18e3c1cddf38f66a5e8cbf79d7084369"><div class="ttname"><a href="census_8h.html#a18e3c1cddf38f66a5e8cbf79d7084369">census_start_server_rpc_op</a></div><div class="ttdeci">CENSUSAPI census_context * census_start_server_rpc_op(const char *buffer, int64_t rpc_name_id, const census_rpc_name_info *rpc_name_info, const char *peer, int trace_mask, census_timestamp *start_time)</div><div class="ttdoc">Start a server RPC operation. </div></div>
<div class="ttc" id="census_8h_html_a2b2990a51808c9177b14476195a9fb94"><div class="ttname"><a href="census_8h.html#a2b2990a51808c9177b14476195a9fb94">census_aggregation_ops</a></div><div class="ttdeci">struct census_aggregation_ops census_aggregation_ops</div><div class="ttdoc">Type representing a particular aggregation. </div><div class="ttdef"><b>Definition:</b> census.h:481</div></div>
<div class="ttc" id="structcensus__value_html"><div class="ttname"><a href="structcensus__value.html">census_value</a></div><div class="ttdef"><b>Definition:</b> census.h:471</div></div>
<div class="ttc" id="structcensus__value_html_a5bff69239476e80fc5c54f3302fffa34"><div class="ttname"><a href="structcensus__value.html#a5bff69239476e80fc5c54f3302fffa34">census_value::value</a></div><div class="ttdeci">double value</div><div class="ttdef"><b>Definition:</b> census.h:473</div></div>
<div class="ttc" id="census_8h_html_af1387180cddfb7a2df512a21aaaae42b"><div class="ttname"><a href="census_8h.html#af1387180cddfb7a2df512a21aaaae42b">census_view_metric</a></div><div class="ttdeci">CENSUSAPI size_t census_view_metric(const census_view *view)</div><div class="ttdoc">Metric ID associated with a view. </div></div>
<div class="ttc" id="structcensus__context__status_html"><div class="ttname"><a href="structcensus__context__status.html">census_context_status</a></div><div class="ttdef"><b>Definition:</b> census.h:117</div></div>
<div class="ttc" id="census_8h_html_a12077dda197a10bf2198203eac1a348a"><div class="ttname"><a href="census_8h.html#a12077dda197a10bf2198203eac1a348a">census_context_get_status</a></div><div class="ttdeci">CENSUSAPI const census_context_status * census_context_get_status(const census_context *context)</div></div>
<div class="ttc" id="census_8h_html_ae43cfb236f1c79eeefb4d9bdf91e3aed"><div class="ttname"><a href="census_8h.html#ae43cfb236f1c79eeefb4d9bdf91e3aed">census_view</a></div><div class="ttdeci">struct census_view census_view</div><div class="ttdoc">A census view type. </div><div class="ttdef"><b>Definition:</b> census.h:497</div></div>
<div class="ttc" id="structcensus__tag_html_a08b4ca9af92e0e559c6dd01ae8c28e0b"><div class="ttname"><a href="structcensus__tag.html#a08b4ca9af92e0e559c6dd01ae8c28e0b">census_tag::value_len</a></div><div class="ttdeci">size_t value_len</div><div class="ttdef"><b>Definition:</b> census.h:94</div></div>
<div class="ttc" id="structcensus__context__status_html_ad44570570f170577c7fec0381adea3d5"><div class="ttname"><a href="structcensus__context__status.html#ad44570570f170577c7fec0381adea3d5">census_context_status::n_added_tags</a></div><div class="ttdeci">int n_added_tags</div><div class="ttdef"><b>Definition:</b> census.h:122</div></div>
<div class="ttc" id="census_8h_html_abe92e59c22481b0de3742673cbbb1bf8ab0722326e730113d5be97f643c3e6718"><div class="ttname"><a href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8ab0722326e730113d5be97f643c3e6718">CENSUS_FEATURE_TRACING</a></div><div class="ttdef"><b>Definition:</b> census.h:50</div></div>
<div class="ttc" id="structcensus__view__aggregation__data_html"><div class="ttname"><a href="structcensus__view__aggregation__data.html">census_view_aggregation_data</a></div><div class="ttdoc">Holds all the aggregation data for a particular view instantiation. </div><div class="ttdef"><b>Definition:</b> census.h:532</div></div>
<div class="ttc" id="structcensus__view__aggregation__data_html_a9147e9464bd963144649d773fc62398d"><div class="ttname"><a href="structcensus__view__aggregation__data.html#a9147e9464bd963144649d773fc62398d">census_view_aggregation_data::data</a></div><div class="ttdeci">const void ** data</div><div class="ttdef"><b>Definition:</b> census.h:534</div></div>
<div class="ttc" id="census_8h_html_a1a7c785d959d32b0c7f45fbf8b9210af"><div class="ttname"><a href="census_8h.html#a1a7c785d959d32b0c7f45fbf8b9210af">census_view_aggregrations</a></div><div class="ttdeci">CENSUSAPI const census_aggregation * census_view_aggregrations(const census_view *view)</div><div class="ttdoc">Get aggregation descriptors associated with a view. </div></div>
<div class="ttc" id="census_8h_html_a610c654980b00da26ed7b2becca79f94"><div class="ttname"><a href="census_8h.html#a610c654980b00da26ed7b2becca79f94">census_context_get_tag</a></div><div class="ttdeci">CENSUSAPI int census_context_get_tag(const census_context *context, const char *key, census_tag *tag)</div></div>
<div class="ttc" id="structcensus__view__data_html_ad3ad052b9c598a32650bb00690f478b8"><div class="ttname"><a href="structcensus__view__data.html#ad3ad052b9c598a32650bb00690f478b8">census_view_data::data</a></div><div class="ttdeci">const census_view_aggregation_data * data</div><div class="ttdef"><b>Definition:</b> census.h:540</div></div>
<div class="ttc" id="census_8h_html_a2a2dfc973cd259d93b0901c8b32e8f34"><div class="ttname"><a href="census_8h.html#a2a2dfc973cd259d93b0901c8b32e8f34">census_trace_mask</a></div><div class="ttdeci">CENSUSAPI int census_trace_mask(const census_context *context)</div><div class="ttdoc">Get the current trace mask associated with this context. </div></div>
<div class="ttc" id="census_8h_html_a26acfcba7f6b3f2b86d0a7fdc45e32ba"><div class="ttname"><a href="census_8h.html#a26acfcba7f6b3f2b86d0a7fdc45e32ba">census_record_values</a></div><div class="ttdeci">CENSUSAPI void census_record_values(census_context *context, census_value *values, size_t nvalues)</div></div>
<div class="ttc" id="structcensus__context__status_html_a8e7c9b97dceabe04d9d7b54ca1259d39"><div class="ttname"><a href="structcensus__context__status.html#a8e7c9b97dceabe04d9d7b54ca1259d39">census_context_status::n_deleted_tags</a></div><div class="ttdeci">int n_deleted_tags</div><div class="ttdef"><b>Definition:</b> census.h:121</div></div>
<div class="ttc" id="structcensus__aggregation_html"><div class="ttname"><a href="structcensus__aggregation.html">census_aggregation</a></div><div class="ttdoc">Information needed to instantiate a new aggregation. </div><div class="ttdef"><b>Definition:</b> census.h:491</div></div>
<div class="ttc" id="census_8h_html_add1983e11e6bfbb6e3eafd085c8f2e5d"><div class="ttname"><a href="census_8h.html#add1983e11e6bfbb6e3eafd085c8f2e5d">census_context_decode</a></div><div class="ttdeci">CENSUSAPI census_context * census_context_decode(const char *buffer, size_t size, const char *bin_buffer, size_t bin_size)</div></div>
<div class="ttc" id="structcensus__context__status_html_a00dd3c6cfa7338d539b290f34b29523b"><div class="ttname"><a href="structcensus__context__status.html#a00dd3c6cfa7338d539b290f34b29523b">census_context_status::n_invalid_tags</a></div><div class="ttdeci">int n_invalid_tags</div><div class="ttdef"><b>Definition:</b> census.h:124</div></div>
<div class="ttc" id="census_8h_html_abe92e59c22481b0de3742673cbbb1bf8a4808bff624e2377596b86a6f58ab04b5"><div class="ttname"><a href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8a4808bff624e2377596b86a6f58ab04b5">CENSUS_FEATURE_CPU</a></div><div class="ttdef"><b>Definition:</b> census.h:52</div></div>
<div class="ttc" id="structcensus__trace__record_html"><div class="ttname"><a href="structcensus__trace__record.html">census_trace_record</a></div><div class="ttdoc">Trace record. </div><div class="ttdef"><b>Definition:</b> census.h:414</div></div>
<div class="ttc" id="census_8h_html_a339fd5da5a7b080a9f98c9a0ed22ad28"><div class="ttname"><a href="census_8h.html#a339fd5da5a7b080a9f98c9a0ed22ad28">census_context_encode</a></div><div class="ttdeci">CENSUSAPI char * census_context_encode(const census_context *context, char *buffer, size_t buf_size, size_t *print_buf_size, size_t *bin_buf_size)</div></div>
<div class="ttc" id="census_8h_html_aacf722bf9259354d1ab7a81a6c2fd666"><div class="ttname"><a href="census_8h.html#aacf722bf9259354d1ab7a81a6c2fd666">census_trace_print</a></div><div class="ttdeci">CENSUSAPI void census_trace_print(census_context *context, uint32_t type, const char *buffer, size_t n)</div><div class="ttdoc">Insert a trace record into the trace stream. </div></div>
<div class="ttc" id="census_8h_html_ad4ff7b1db813ee5318871121bb4281cc"><div class="ttname"><a href="census_8h.html#ad4ff7b1db813ee5318871121bb4281cc">census_trace_mask_values</a></div><div class="ttdeci">census_trace_mask_values</div><div class="ttdef"><b>Definition:</b> census.h:216</div></div>
<div class="ttc" id="structcensus__tag_html_a5632d4c8316fb17bbb3af5cb9b0dd4f5"><div class="ttname"><a href="structcensus__tag.html#a5632d4c8316fb17bbb3af5cb9b0dd4f5">census_tag::flags</a></div><div class="ttdeci">uint8_t flags</div><div class="ttdef"><b>Definition:</b> census.h:95</div></div>
<div class="ttc" id="structcensus__rpc__name__info_html"><div class="ttname"><a href="structcensus__rpc__name__info.html">census_rpc_name_info</a></div><div class="ttdoc">Represent functions to map RPC name ID to service/method names. </div><div class="ttdef"><b>Definition:</b> census.h:287</div></div>
<div class="ttc" id="census_8h_html_abe92e59c22481b0de3742673cbbb1bf8aba96a94fb7af8cf1144ca14edc0b1f0c"><div class="ttname"><a href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8aba96a94fb7af8cf1144ca14edc0b1f0c">CENSUS_FEATURE_ALL</a></div><div class="ttdef"><b>Definition:</b> census.h:53</div></div>
<div class="ttc" id="structcensus__trace__record_html_a7a9ffdb2e91c34802e5102a1632b2e58"><div class="ttname"><a href="structcensus__trace__record.html#a7a9ffdb2e91c34802e5102a1632b2e58">census_trace_record::op_id</a></div><div class="ttdeci">uint64_t op_id</div><div class="ttdef"><b>Definition:</b> census.h:417</div></div>
<div class="ttc" id="census_8h_html_abe92e59c22481b0de3742673cbbb1bf8a84c772b868e53ee3487c7bfc8e8b2f1a"><div class="ttname"><a href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8a84c772b868e53ee3487c7bfc8e8b2f1a">CENSUS_FEATURE_STATS</a></div><div class="ttdef"><b>Definition:</b> census.h:51</div></div>
<div class="ttc" id="census_8h_html_a63289de665c241f31e9c32666310ec3a"><div class="ttname"><a href="census_8h.html#a63289de665c241f31e9c32666310ec3a">census_context_create</a></div><div class="ttdeci">CENSUSAPI census_context * census_context_create(const census_context *base, const census_tag *tags, int ntags, census_context_status const **status)</div></div>
<div class="ttc" id="census_8h_html_ae1536ef86b12a6904cb1de3a47f0ca1b"><div class="ttname"><a href="census_8h.html#ae1536ef86b12a6904cb1de3a47f0ca1b">census_start_op</a></div><div class="ttdeci">CENSUSAPI census_context * census_start_op(census_context *context, const char *family, const char *name, int trace_mask)</div><div class="ttdoc">Start a new, non-RPC operation. </div></div>
<div class="ttc" id="census_8h_html_ad78c02761da0d8a7a70bf4add263f91f"><div class="ttname"><a href="census_8h.html#ad78c02761da0d8a7a70bf4add263f91f">census_trace_scan_start</a></div><div class="ttdeci">CENSUSAPI int census_trace_scan_start(int consume)</div><div class="ttdoc">Start a scan of existing trace records. </div></div>
<div class="ttc" id="structcensus__aggregation_html_afce3bda99fdeb6c77dde6368e1c45ffa"><div class="ttname"><a href="structcensus__aggregation.html#afce3bda99fdeb6c77dde6368e1c45ffa">census_aggregation::ops</a></div><div class="ttdeci">const census_aggregation_ops * ops</div><div class="ttdef"><b>Definition:</b> census.h:492</div></div>
<div class="ttc" id="structcensus__context__status_html_a94be33aaa92817f62516bb21fb106e00"><div class="ttname"><a href="structcensus__context__status.html#a94be33aaa92817f62516bb21fb106e00">census_context_status::n_local_tags</a></div><div class="ttdeci">int n_local_tags</div><div class="ttdef"><b>Definition:</b> census.h:120</div></div>
<div class="ttc" id="census_8h_html_a50f2d9352480dbd7756d31b38d78745c"><div class="ttname"><a href="census_8h.html#a50f2d9352480dbd7756d31b38d78745c">census_view_tags</a></div><div class="ttdeci">CENSUSAPI const census_context * census_view_tags(const census_view *view)</div><div class="ttdoc">Get tags associated with view. </div></div>
<div class="ttc" id="structcensus__context__status_html_ab567b892584772dcb4a13ae7c8b95316"><div class="ttname"><a href="structcensus__context__status.html#ab567b892584772dcb4a13ae7c8b95316">census_context_status::n_ignored_tags</a></div><div class="ttdeci">int n_ignored_tags</div><div class="ttdef"><b>Definition:</b> census.h:126</div></div>
<div class="ttc" id="census_8h_html_ad21073b22ae5c30cad63a29340f54048"><div class="ttname"><a href="census_8h.html#ad21073b22ae5c30cad63a29340f54048">census_shutdown</a></div><div class="ttdeci">CENSUSAPI void census_shutdown(void)</div></div>
<div class="ttc" id="census_8h_html_a22eb7df4c9b232d8962592d738007ecb"><div class="ttname"><a href="census_8h.html#a22eb7df4c9b232d8962592d738007ecb">census_trace_scan_end</a></div><div class="ttdeci">CENSUSAPI void census_trace_scan_end()</div><div class="ttdoc">End a scan previously started by census_trace_scan_start() </div></div>
<div class="ttc" id="structcensus__context__iterator_html_ad565429de91ad3f42c6e7091c2532804"><div class="ttname"><a href="structcensus__context__iterator.html#ad565429de91ad3f42c6e7091c2532804">census_context_iterator::kvm</a></div><div class="ttdeci">char * kvm</div><div class="ttdef"><b>Definition:</b> census.h:167</div></div>
<div class="ttc" id="census_8h_html_a6e29f72138aac3eac75ef13a7bd25560"><div class="ttname"><a href="census_8h.html#a6e29f72138aac3eac75ef13a7bd25560">census_context_destroy</a></div><div class="ttdeci">CENSUSAPI void census_context_destroy(census_context *context)</div></div>
<div class="ttc" id="census_8h_html_ac20c30b46592a991ba098c43fc7e2d2f"><div class="ttname"><a href="census_8h.html#ac20c30b46592a991ba098c43fc7e2d2f">census_view_naggregations</a></div><div class="ttdeci">CENSUSAPI size_t census_view_naggregations(const census_view *view)</div><div class="ttdoc">Number of aggregations associated with view. </div></div>
<div class="ttc" id="census_8h_html_a8aaadf898da63f9438e3262822234c6d"><div class="ttname"><a href="census_8h.html#a8aaadf898da63f9438e3262822234c6d">census_view_reset</a></div><div class="ttdeci">CENSUSAPI void census_view_reset(census_view *view)</div><div class="ttdoc">Reset all view data to zero for the specified view. </div></div>
<div class="ttc" id="structcensus__view__data_html_a90105c30b6a4b32ced7663532de301f4"><div class="ttname"><a href="structcensus__view__data.html#a90105c30b6a4b32ced7663532de301f4">census_view_data::n_tag_sets</a></div><div class="ttdeci">size_t n_tag_sets</div><div class="ttdef"><b>Definition:</b> census.h:539</div></div>
<div class="ttc" id="structcensus__trace__record_html_ac7f74956d51898681b8e35a8031ac9fb"><div class="ttname"><a href="structcensus__trace__record.html#ac7f74956d51898681b8e35a8031ac9fb">census_trace_record::timestamp</a></div><div class="ttdeci">census_timestamp timestamp</div><div class="ttdef"><b>Definition:</b> census.h:415</div></div>
<div class="ttc" id="structcensus__timestamp_html_a36ed36ffcf81f720bbdade460f957004"><div class="ttname"><a href="structcensus__timestamp.html#a36ed36ffcf81f720bbdade460f957004">census_timestamp::ts</a></div><div class="ttdeci">gpr_timespec ts</div><div class="ttdef"><b>Definition:</b> census.h:257</div></div>
<div class="ttc" id="structcensus__trace__record_html_a76b2b8a9206a720e02c32c13a534ba78"><div class="ttname"><a href="structcensus__trace__record.html#a76b2b8a9206a720e02c32c13a534ba78">census_trace_record::type</a></div><div class="ttdeci">uint32_t type</div><div class="ttdef"><b>Definition:</b> census.h:418</div></div>
<div class="ttc" id="census_8h_html_a37ac21fb6ba91fc1f80523cf3d55dbfa"><div class="ttname"><a href="census_8h.html#a37ac21fb6ba91fc1f80523cf3d55dbfa">census_agg_distribution</a></div><div class="ttdeci">census_aggregation_ops census_agg_distribution</div></div>
<div class="ttc" id="structcensus__context__iterator_html_ab591e487d86084f6e73c79c82bc3b1bc"><div class="ttname"><a href="structcensus__context__iterator.html#ab591e487d86084f6e73c79c82bc3b1bc">census_context_iterator::base</a></div><div class="ttdeci">int base</div><div class="ttdef"><b>Definition:</b> census.h:165</div></div>
<div class="ttc" id="structcensus__timestamp_html"><div class="ttname"><a href="structcensus__timestamp.html">census_timestamp</a></div><div class="ttdoc">This structure represents a timestamp as used by census to record the time at which an operation begi...</div><div class="ttdef"><b>Definition:</b> census.h:254</div></div>
<div class="ttc" id="structcensus__value_html_a87d8b653cb6248301e1ad699bf2cfc54"><div class="ttname"><a href="structcensus__value.html#a87d8b653cb6248301e1ad699bf2cfc54">census_value::metric_id</a></div><div class="ttdeci">uint32_t metric_id</div><div class="ttdef"><b>Definition:</b> census.h:472</div></div>
<div class="ttc" id="census_8h_html_ad4ff7b1db813ee5318871121bb4281ccaadcf28b76de06181051506c96996255a"><div class="ttname"><a href="census_8h.html#ad4ff7b1db813ee5318871121bb4281ccaadcf28b76de06181051506c96996255a">CENSUS_TRACE_MASK_IS_SAMPLED</a></div><div class="ttdef"><b>Definition:</b> census.h:218</div></div>
<div class="ttc" id="census_8h_html_a1d2f0b30386e8772c09694dfc74d686c"><div class="ttname"><a href="census_8h.html#a1d2f0b30386e8772c09694dfc74d686c">census_view_get_data</a></div><div class="ttdeci">CENSUSAPI const census_view_data * census_view_get_data(const census_view *view)</div><div class="ttdoc">Get data from aggregations associated with a view. </div></div>
<div class="ttc" id="census_8h_html_a756d86b68b73a9ad9dacdfdaeb2a865c"><div class="ttname"><a href="census_8h.html#a756d86b68b73a9ad9dacdfdaeb2a865c">census_context_next_tag</a></div><div class="ttdeci">CENSUSAPI int census_context_next_tag(census_context_iterator *iterator, census_tag *tag)</div></div>
<div class="ttc" id="census_8h_html_a35d6ca1b9557bb6e12d79e137a5df944"><div class="ttname"><a href="census_8h.html#a35d6ca1b9557bb6e12d79e137a5df944">census_agg_sum</a></div><div class="ttdeci">census_aggregation_ops census_agg_sum</div></div>
<div class="ttc" id="structcensus__context__iterator_html_a729daa66104d74f11aa6c5b25c27f563"><div class="ttname"><a href="structcensus__context__iterator.html#a729daa66104d74f11aa6c5b25c27f563">census_context_iterator::context</a></div><div class="ttdeci">const census_context * context</div><div class="ttdef"><b>Definition:</b> census.h:164</div></div>
<div class="ttc" id="census_8h_html_ae22d3c8dfe3bfac5e831b0135ff7a536"><div class="ttname"><a href="census_8h.html#ae22d3c8dfe3bfac5e831b0135ff7a536">census_supported</a></div><div class="ttdeci">CENSUSAPI int census_supported(void)</div><div class="ttdoc">Return the features supported by the current census implementation (not all features will be availabl...</div></div>
<div class="ttc" id="census_8h_html_aeb5d22e80a87eabe9880f08c56e95bf1"><div class="ttname"><a href="census_8h.html#aeb5d22e80a87eabe9880f08c56e95bf1">census_get_trace_record</a></div><div class="ttdeci">CENSUSAPI int census_get_trace_record(census_trace_record *trace_record)</div><div class="ttdoc">Get a trace record. </div></div>
<div class="ttc" id="structcensus__tag_html_a13c8315749ec9752d8bb1354a131558b"><div class="ttname"><a href="structcensus__tag.html#a13c8315749ec9752d8bb1354a131558b">census_tag::key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> census.h:92</div></div>
<div class="ttc" id="census_8h_html_aee31ac081d81e46746025b06071f1f0e"><div class="ttname"><a href="census_8h.html#aee31ac081d81e46746025b06071f1f0e">census_end_op</a></div><div class="ttdeci">CENSUSAPI void census_end_op(census_context *context, int status)</div><div class="ttdoc">End an operation started by any of the census_start_*_op*() calls. </div></div>
<div class="ttc" id="census_8h_html_a850c1ca105245a514e76519d5edaad2c"><div class="ttname"><a href="census_8h.html#a850c1ca105245a514e76519d5edaad2c">census_initialize</a></div><div class="ttdeci">CENSUSAPI int census_initialize(int features)</div><div class="ttdoc">Shutdown and startup census subsystem. </div></div>
<div class="ttc" id="census_8h_html_a2088bf00a48a7a9b0a6e659fa5161ef9"><div class="ttname"><a href="census_8h.html#a2088bf00a48a7a9b0a6e659fa5161ef9">census_set_trace_mask</a></div><div class="ttdeci">CENSUSAPI void census_set_trace_mask(int trace_mask)</div><div class="ttdoc">Set the trace mask associated with a context. </div></div>
<div class="ttc" id="structcensus__view__data_html"><div class="ttname"><a href="structcensus__view__data.html">census_view_data</a></div><div class="ttdoc">Census view data as returned by census_view_get_data(). </div><div class="ttdef"><b>Definition:</b> census.h:538</div></div>
<div class="ttc" id="structcensus__trace__record_html_a69511d4d1ae8297580789786feb564d4"><div class="ttname"><a href="structcensus__trace__record.html#a69511d4d1ae8297580789786feb564d4">census_trace_record::trace_id</a></div><div class="ttdeci">uint64_t trace_id</div><div class="ttdef"><b>Definition:</b> census.h:416</div></div>
<div class="ttc" id="census_8h_html_abe92e59c22481b0de3742673cbbb1bf8"><div class="ttname"><a href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8">census_features</a></div><div class="ttdeci">census_features</div><div class="ttdef"><b>Definition:</b> census.h:48</div></div>
<div class="ttc" id="census_8h_html_ab20a8e42995181004f5fbc9a87e339d3"><div class="ttname"><a href="census_8h.html#ab20a8e42995181004f5fbc9a87e339d3">census_set_rpc_client_peer</a></div><div class="ttdeci">CENSUSAPI void census_set_rpc_client_peer(census_context *context, const char *peer)</div><div class="ttdoc">Add peer information to a context representing a client RPC operation. </div></div>
<div class="ttc" id="structcensus__tag_html"><div class="ttname"><a href="structcensus__tag.html">census_tag</a></div><div class="ttdef"><b>Definition:</b> census.h:91</div></div>
<div class="ttc" id="structcensus__context__status_html_a999c7d337ff4b180da169a604ee1be8b"><div class="ttname"><a href="structcensus__context__status.html#a999c7d337ff4b180da169a604ee1be8b">census_context_status::n_propagated_binary_tags</a></div><div class="ttdeci">int n_propagated_binary_tags</div><div class="ttdef"><b>Definition:</b> census.h:119</div></div>
<div class="ttc" id="impl_2codegen_2port__platform_8h_html_a3f6006f19ae6445e4a42f9d16b720ad7"><div class="ttname"><a href="impl_2codegen_2port__platform_8h.html#a3f6006f19ae6445e4a42f9d16b720ad7">CENSUSAPI</a></div><div class="ttdeci">#define CENSUSAPI</div><div class="ttdef"><b>Definition:</b> port_platform.h:367</div></div>
<div class="ttc" id="structgpr__timespec_html"><div class="ttname"><a href="structgpr__timespec.html">gpr_timespec</a></div><div class="ttdef"><b>Definition:</b> time.h:63</div></div>
<div class="ttc" id="structcensus__tag_html_a8f4ef3177380ad53f7a8abe1441e8805"><div class="ttname"><a href="structcensus__tag.html#a8f4ef3177380ad53f7a8abe1441e8805">census_tag::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> census.h:93</div></div>
<div class="ttc" id="structcensus__view__aggregation__data_html_a6972f32742ac590473852310ccf0c2bc"><div class="ttname"><a href="structcensus__view__aggregation__data.html#a6972f32742ac590473852310ccf0c2bc">census_view_aggregation_data::tags</a></div><div class="ttdeci">const census_context * tags</div><div class="ttdef"><b>Definition:</b> census.h:533</div></div>
<div class="ttc" id="structcensus__aggregation_html_a5b2ce3ab21a88058ea67c944d6a37426"><div class="ttname"><a href="structcensus__aggregation.html#a5b2ce3ab21a88058ea67c944d6a37426">census_aggregation::create_arg</a></div><div class="ttdeci">const void * create_arg</div><div class="ttdef"><b>Definition:</b> census.h:493</div></div>
<div class="ttc" id="census_8h_html_ac19f91fc3442073217752ce4abf5dfc4"><div class="ttname"><a href="census_8h.html#ac19f91fc3442073217752ce4abf5dfc4">census_context_initialize_iterator</a></div><div class="ttdeci">CENSUSAPI void census_context_initialize_iterator(const census_context *context, census_context_iterator *iterator)</div></div>
<div class="ttc" id="census_8h_html_a8ac9c2a6718e812bf8f42a2016738408"><div class="ttname"><a href="census_8h.html#a8ac9c2a6718e812bf8f42a2016738408">census_view_create</a></div><div class="ttdeci">CENSUSAPI census_view * census_view_create(uint32_t metric_id, const census_context *tags, const census_aggregation *aggregations, size_t naggregations)</div><div class="ttdoc">Create a new view. </div></div>
<div class="ttc" id="census_8h_html_ad4ff7b1db813ee5318871121bb4281cca21afa23a531e5d54e70d44ec3c18cfb3"><div class="ttname"><a href="census_8h.html#ad4ff7b1db813ee5318871121bb4281cca21afa23a531e5d54e70d44ec3c18cfb3">CENSUS_TRACE_MASK_NONE</a></div><div class="ttdef"><b>Definition:</b> census.h:217</div></div>
<div class="ttc" id="structcensus__trace__record_html_a4ba324fb39273bf3c0c0f15852d9d130"><div class="ttname"><a href="structcensus__trace__record.html#a4ba324fb39273bf3c0c0f15852d9d130">census_trace_record::buffer</a></div><div class="ttdeci">const char * buffer</div><div class="ttdef"><b>Definition:</b> census.h:419</div></div>
<div class="ttc" id="structcensus__trace__record_html_abc4f9330e28d906f90346d7fd5769d53"><div class="ttname"><a href="structcensus__trace__record.html#abc4f9330e28d906f90346d7fd5769d53">census_trace_record::buf_size</a></div><div class="ttdeci">size_t buf_size</div><div class="ttdef"><b>Definition:</b> census.h:420</div></div>
<div class="ttc" id="grpc_8h_html"><div class="ttname"><a href="grpc_8h.html">grpc.h</a></div></div>
<div class="ttc" id="census_8h_html_a4b8a7f096dcd85c93f823cddb2bf960e"><div class="ttname"><a href="census_8h.html#a4b8a7f096dcd85c93f823cddb2bf960e">census_agg_window</a></div><div class="ttdeci">census_aggregation_ops census_agg_window</div></div>
<div class="ttc" id="census_8h_html_abd6d5aa344819ec9d73c79b9fe6778dc"><div class="ttname"><a href="census_8h.html#abd6d5aa344819ec9d73c79b9fe6778dc">census_start_client_rpc_op</a></div><div class="ttdeci">CENSUSAPI census_context * census_start_client_rpc_op(const census_context *context, int64_t rpc_name_id, const census_rpc_name_info *rpc_name_info, const char *peer, int trace_mask, const census_timestamp *start_time)</div><div class="ttdoc">Start a client rpc operation. </div></div>
<div class="ttc" id="structcensus__context__iterator_html_a1d3bd63edb21b2c2692610f9440b0111"><div class="ttname"><a href="structcensus__context__iterator.html#a1d3bd63edb21b2c2692610f9440b0111">census_context_iterator::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> census.h:166</div></div>
<div class="ttc" id="census_8h_html_a57255eb87c6ade8ee6eb8856d3ecfc11"><div class="ttname"><a href="census_8h.html#a57255eb87c6ade8ee6eb8856d3ecfc11">census_start_rpc_op_timestamp</a></div><div class="ttdeci">CENSUSAPI census_timestamp census_start_rpc_op_timestamp(void)</div><div class="ttdoc">Mark the beginning of an RPC operation. </div></div>
<div class="ttc" id="structcensus__context__iterator_html"><div class="ttname"><a href="structcensus__context__iterator.html">census_context_iterator</a></div><div class="ttdef"><b>Definition:</b> census.h:163</div></div>
<div class="ttc" id="census_8h_html_a27fc8788690179599713226f1f054736"><div class="ttname"><a href="census_8h.html#a27fc8788690179599713226f1f054736">census_context</a></div><div class="ttdeci">struct census_context census_context</div><div class="ttdoc">A Census Context is a handle used by Census to represent the current tracing and stats collection inf...</div><div class="ttdef"><b>Definition:</b> census.h:81</div></div>
<div class="ttc" id="census_8h_html_abe92e59c22481b0de3742673cbbb1bf8aac1986834f37851b8d899c4a08c8e3ab"><div class="ttname"><a href="census_8h.html#abe92e59c22481b0de3742673cbbb1bf8aac1986834f37851b8d899c4a08c8e3ab">CENSUS_FEATURE_NONE</a></div><div class="ttdef"><b>Definition:</b> census.h:49</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 8 2016 15:59:02 for GRPC Core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
